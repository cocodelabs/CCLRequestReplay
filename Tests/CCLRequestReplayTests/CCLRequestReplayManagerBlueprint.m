//
//  CCLRequestReplayManagerBlueprint.m
//  CCLRequestReplay
//
//  Created by Kyle Fuller on 20/04/2014.
//
//

#define EXP_SHORTHAND YES

#import <Foundation/Foundation.h>
#import <Specta/Specta.h>
#import <Expecta/Expecta.h>

#import <CCLRequestReplay/CCLRequestReplayManager+Blueprint.h>

static NSString * const BlueprintFixture = @"ew0KICAiX3ZlcnNpb24iOiAiMi4wIiwNCiAgIm1ldGFkYXRhIjogWw0KICAgIHsNCiAgICAgICJuYW1lIjogIkZPUk1BVCIsDQogICAgICAidmFsdWUiOiAiMUEiDQogICAgfSwNCiAgICB7DQogICAgICAibmFtZSI6ICJIT1NUIiwNCiAgICAgICJ2YWx1ZSI6ICJodHRwOi8vdHJ1bmsuY29jb2Fwb2RzLm9yZyINCiAgICB9DQogIF0sDQogICJuYW1lIjogImNvY29hcG9kcyIsDQogICJkZXNjcmlwdGlvbiI6ICJUaGUgQ29jb2FQb2RzIFRydW5rIEFQSS5cblxuIiwNCiAgInJlc291cmNlR3JvdXBzIjogWw0KICAgIHsNCiAgICAgICJuYW1lIjogIlNlc3Npb25zIiwNCiAgICAgICJkZXNjcmlwdGlvbiI6ICJBUEkgZm9yIG1hbmFnaW5nIHNlc3Npb25zLlxuXG4iLA0KICAgICAgInJlc291cmNlcyI6IFsNCiAgICAgICAgew0KICAgICAgICAgICJuYW1lIjogIlNlc3Npb24gQ29sbGVjdGlvbiIsDQogICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgInVyaVRlbXBsYXRlIjogIi9hcGkvdjEvc2Vzc2lvbnMiLA0KICAgICAgICAgICJtb2RlbCI6IHt9LA0KICAgICAgICAgICJwYXJhbWV0ZXJzIjogW10sDQogICAgICAgICAgImFjdGlvbnMiOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICJuYW1lIjogIkdldCB5b3VyIGN1cnJlbnQgU2Vzc2lvbiIsDQogICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAibWV0aG9kIjogIkdFVCIsDQogICAgICAgICAgICAgICJwYXJhbWV0ZXJzIjogW10sDQogICAgICAgICAgICAgICJleGFtcGxlcyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAibmFtZSI6ICIiLA0KICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgICAgICAgICAicmVxdWVzdHMiOiBbDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJoZWFkZXJzIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJBdXRob3JpemF0aW9uIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIlRva2VuIDUyN2QxMWZlNDI5ZjM0MjZjYjhkYmViYTE4M2EwZDgwIg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgICAgICAgImJvZHkiOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAic2NoZW1hIjogIiINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICJyZXNwb25zZXMiOiBbDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICIyMDAiLA0KICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJoZWFkZXJzIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJDb250ZW50LVR5cGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiYXBwbGljYXRpb24vanNvbiINCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICAgICAgICJib2R5IjogInsgXCJlbWFpbFwiOiBcImt5bGVAY29jb2Fwb2RzLm9yZ1wiLCBcIm5hbWVcIjogXCJLeWxlIEZ1bGxlclwiLCBcInRva2VuXCI6IFwiNTI3ZDExZmU0MjlmMzQyNmNiOGRiZWJhMTgzYTBkODBcIiB9XG4iLA0KICAgICAgICAgICAgICAgICAgICAgICJzY2hlbWEiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAibmFtZSI6ICJDcmVhdGUgYSBTZXNzaW9uIiwNCiAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgICAgICJtZXRob2QiOiAiUE9TVCIsDQogICAgICAgICAgICAgICJwYXJhbWV0ZXJzIjogW10sDQogICAgICAgICAgICAgICJleGFtcGxlcyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAibmFtZSI6ICIiLA0KICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgICAgICAgICAicmVxdWVzdHMiOiBbDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJoZWFkZXJzIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJDb250ZW50LVR5cGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiYXBwbGljYXRpb24vanNvbiINCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICAgICAgICJib2R5IjogInsgXCJlbWFpbFwiOiBcImt5bGVAY29jb2Fwb2RzLm9yZ1wiLCBcIm5hbWVcIjogXCJLeWxlIEZ1bGxlclwiIH1cbiIsDQogICAgICAgICAgICAgICAgICAgICAgInNjaGVtYSI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgICAicmVzcG9uc2VzIjogWw0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAiMjAxIiwNCiAgICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAiaGVhZGVycyI6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAiQ29udGVudC1UeXBlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogImFwcGxpY2F0aW9uL2pzb24iDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICAgICAiYm9keSI6ICJ7IFwiZW1haWxcIjogXCJreWxlQGNvY29hcG9kcy5vcmdcIiwgXCJuYW1lXCI6IFwiS3lsZSBGdWxsZXJcIiwgXCJ0b2tlblwiOiBcIjUyN2QxMWZlNDI5ZjM0MjZjYjhkYmViYTE4M2EwZDgwXCIgfVxuIiwNCiAgICAgICAgICAgICAgICAgICAgICAic2NoZW1hIjogIiINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIm5hbWUiOiAiRGVsZXRlcyB5b3VyIGN1cnJlbnQgU2Vzc2lvbiIsDQogICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAibWV0aG9kIjogIkRFTEVURSIsDQogICAgICAgICAgICAgICJwYXJhbWV0ZXJzIjogW10sDQogICAgICAgICAgICAgICJleGFtcGxlcyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAibmFtZSI6ICIiLA0KICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgICAgICAgICAicmVxdWVzdHMiOiBbDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJoZWFkZXJzIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJBdXRob3JpemF0aW9uIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIlRva2VuIDUyN2QxMWZlNDI5ZjM0MjZjYjhkYmViYTE4M2EwZDgwIg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgICAgICAgImJvZHkiOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAic2NoZW1hIjogIiINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICJyZXNwb25zZXMiOiBbDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICIyMDEiLA0KICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJoZWFkZXJzIjogW10sDQogICAgICAgICAgICAgICAgICAgICAgImJvZHkiOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAic2NoZW1hIjogIiINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIF0NCiAgICAgICAgfQ0KICAgICAgXQ0KICAgIH0sDQogICAgew0KICAgICAgIm5hbWUiOiAiUG9kcyIsDQogICAgICAiZGVzY3JpcHRpb24iOiAiQVBJIGZvciBtYW5hZ2luZyBwb2RzLlxuXG4jIyBQT1NUIHBvZHNcblxuKyBSZXF1ZXN0IChhcHBsaWNhdGlvbi9qc29uKVxuXG4gICAgICAgIHt9XG5cblxuKyBSZXNwb25zZSAyMDEgKGFwcGxpY2F0aW9uL2pzb24pXG5cbiAgICAgICAge31cbiAgICAgICAgXG4iLA0KICAgICAgInJlc291cmNlcyI6IFsNCiAgICAgICAgew0KICAgICAgICAgICJuYW1lIjogIiIsDQogICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgInVyaVRlbXBsYXRlIjogIi9hcGkvdjEvcG9kcy97bmFtZX0iLA0KICAgICAgICAgICJtb2RlbCI6IHt9LA0KICAgICAgICAgICJwYXJhbWV0ZXJzIjogW10sDQogICAgICAgICAgImFjdGlvbnMiOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICJuYW1lIjogIiIsDQogICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAibWV0aG9kIjogIkdFVCIsDQogICAgICAgICAgICAgICJwYXJhbWV0ZXJzIjogW10sDQogICAgICAgICAgICAgICJleGFtcGxlcyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAibmFtZSI6ICIiLA0KICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgICAgICAgICAicmVxdWVzdHMiOiBbXSwNCiAgICAgICAgICAgICAgICAgICJyZXNwb25zZXMiOiBbDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICIyMDAiLA0KICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJoZWFkZXJzIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJDb250ZW50LVR5cGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiYXBwbGljYXRpb24vanNvbiINCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICAgICAgICJib2R5IjogIntcbiAgXCJ2ZXJzaW9uc1wiOiBbXG4gICAge1xuICAgICAgXCJjcmVhdGVkX2F0XCI6IFwiMjAxNC0wNC0xMyAyMzowNDozNyArMDAwMFwiLFxuICAgICAgXCJuYW1lXCI6IFwiMS4wLjBcIlxuICAgIH1cbiAgXSxcbiAgXCJvd25lcnNcIjogW1xuICAgIHtcbiAgICAgIFwiY3JlYXRlZF9hdFwiOiBcIjIwMTQtMDQtMTMgMjI6NDk6NTYgKzAwMDBcIixcbiAgICAgIFwiZW1haWxcIjogXCJpbmJveEBreWxlZnVsbGVyLmNvLnVrXCIsXG4gICAgICBcIm5hbWVcIjogXCJLeWxlIEZ1bGxlclwiXG4gICAgfVxuICBdXG59XG4iLA0KICAgICAgICAgICAgICAgICAgICAgICJzY2hlbWEiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9DQogICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgIm5hbWUiOiAiIiwNCiAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiIiwNCiAgICAgICAgICAidXJpVGVtcGxhdGUiOiAiL2FwaS92MS9wb2RzL3tuYW1lfS92ZXJzaW9ucy97dmVyc2lvbn0iLA0KICAgICAgICAgICJtb2RlbCI6IHt9LA0KICAgICAgICAgICJwYXJhbWV0ZXJzIjogW10sDQogICAgICAgICAgImFjdGlvbnMiOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICJuYW1lIjogIiIsDQogICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAibWV0aG9kIjogIkdFVCIsDQogICAgICAgICAgICAgICJwYXJhbWV0ZXJzIjogW10sDQogICAgICAgICAgICAgICJleGFtcGxlcyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAibmFtZSI6ICIiLA0KICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgICAgICAgICAicmVxdWVzdHMiOiBbXSwNCiAgICAgICAgICAgICAgICAgICJyZXNwb25zZXMiOiBbDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICIyMDAiLA0KICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJoZWFkZXJzIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJDb250ZW50LVR5cGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiYXBwbGljYXRpb24vanNvbiINCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICAgICAgICJib2R5IjogIntcbiAgXCJtZXNzYWdlc1wiOiBbXG4gICAge1xuICAgICAgXCIyMDE0LTA0LTEzIDIzOjA0OjM3ICswMDAwXCI6IFwiVmVyc2lvbiBgTlNBdHRyaWJ1dGVkU3RyaW5nK0NDTEZvcm1hdCAxLjAuMCcgY3JlYXRlZCB2aWEgR2l0aHViIGhvb2suXCJcbiAgICB9XG4gIF0sXG4gIFwiZGF0YV91cmxcIjogXCJodHRwczpcL1wvcmF3LmdpdGh1Yi5jb21cL0NvY29hUG9kc1wvU3BlY3NcLzZkMmM3MWU3Njg1NWVkMDY2ZmU0OGRiNmFlM2JlZTliYmY1OTcyYmFcL1NwZWNzXC9OU0F0dHJpYnV0ZWRTdHJpbmcrQ0NMRm9ybWF0XC8xLjAuMFwvTlNBdHRyaWJ1dGVkU3RyaW5nK0NDTEZvcm1hdC5wb2RzcGVjLmpzb25cIlxufVxuIiwNCiAgICAgICAgICAgICAgICAgICAgICAic2NoZW1hIjogIiINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICJuYW1lIjogIiIsDQogICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgInVyaVRlbXBsYXRlIjogIi9hcGkvdjEvcG9kcy97bmFtZX0vb3duZXJzIiwNCiAgICAgICAgICAibW9kZWwiOiB7fSwNCiAgICAgICAgICAicGFyYW1ldGVycyI6IFtdLA0KICAgICAgICAgICJhY3Rpb25zIjogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAibmFtZSI6ICIiLA0KICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiIiwNCiAgICAgICAgICAgICAgIm1ldGhvZCI6ICJQQVRDSCIsDQogICAgICAgICAgICAgICJwYXJhbWV0ZXJzIjogW10sDQogICAgICAgICAgICAgICJleGFtcGxlcyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAibmFtZSI6ICIiLA0KICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgICAgICAgICAicmVxdWVzdHMiOiBbDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJoZWFkZXJzIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJDb250ZW50LVR5cGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiYXBwbGljYXRpb24vanNvbiINCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICAgICAgICJib2R5IjogInt9XG4iLA0KICAgICAgICAgICAgICAgICAgICAgICJzY2hlbWEiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICAgInJlc3BvbnNlcyI6IFsNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogIjIwMCIsDQogICAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgICAgICAgICAgICAgImhlYWRlcnMiOiBbDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogIkNvbnRlbnQtVHlwZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJhcHBsaWNhdGlvbi9qc29uIg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgICAgICAgImJvZHkiOiAie31cbiIsDQogICAgICAgICAgICAgICAgICAgICAgInNjaGVtYSI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIF0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICBdDQogICAgICAgIH0NCiAgICAgIF0NCiAgICB9DQogIF0NCn0NCg==";


SpecBegin(CCLRequestReplayManagerBlueprint)

describe(@"CLRequestReplayManager", ^{
    __block CCLRequestReplayManager *manager;

    beforeEach(^{
        manager = [[CCLRequestReplayManager alloc] init];
    });

    it(@"should load a blueprint with all recordings", ^{
        NSData *data = [[NSData alloc] initWithBase64EncodedString:BlueprintFixture options:0];

        NSError *error;
        BOOL didAddRecordings = [manager addRecordingsFromBlueprintData:data error:&error];

        expect(didAddRecordings).to.beTruthy();
        expect(error).to.beNil();
        expect([[manager recordings] count]).to.equal(6);
    });
});

SpecEnd
